<!-- âœ… Ğ”ĞĞŸĞĞ’ĞĞ•ĞĞ˜Ğ™ Ğ¤ĞĞ™Ğ›: contract.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ“ƒ Freelance Contract - SmartWerk</title>
  <link rel="stylesheet" href="style-contract.css">
</head>
<body>
  <div class="wrap">
    <header class="topbar">
      <a class="brand" href="templates.html">ğŸ“ƒ Freelance Contract (NL/EN)</a>
      <nav class="right">
        <a href="dashboard.html" class="btn">â† Back to Dashboard</a>
      </nav>
    </header>

    <section class="intro">
      <h1>ğŸ“ƒ Create Freelance Contract</h1>
      <p class="muted">Fill out the details below to generate a professional freelance contract. You can export it as PDF or DOCX, and use AI to help complete it.</p>
    </section>

    <form id="contractForm">
      <div class="form-section">
        <h2>ğŸ““ Language</h2>
        <select id="languageSwitcher">
          <option value="en">English</option>
          <option value="nl">Nederlands</option>
        </select>
      </div>

      <div class="form-section">
        <h2>ğŸ’¾ Preview & Content</h2>
        <textarea id="contractText" rows="14" placeholder="Contract will appear here..." required></textarea>
      </div>

      <div class="form-section">
        <h2>ğŸ“œ Project Info</h2>
        <input type="text" id="businessName" placeholder="Your Business Name" required />
        <input type="text" id="clientName" placeholder="Client Name" required />
        <textarea id="projectDesc" placeholder="Describe the project..."></textarea>
        <input type="text" id="projectFee" placeholder="Project Fee (e.g. 1000 EUR)" />
        <input type="text" id="projectDeadline" placeholder="Deadline" />
      </div>

      <div class="form-section">
        <h2>âœï¸ Signature</h2>
        <input type="text" id="signatureName" placeholder="Your Name" required />
        <input type="date" id="contractDate" required />
      </div>

      <div class="actions">
        <button type="button" class="btn ghost" id="aiFillBtn">ğŸ¤– AI Fill</button>
        <button type="button" class="btn" id="saveBtn">ğŸ“‚ Save</button>
        <button type="button" class="btn primary" id="exportBtn">ğŸ“„ Export as TXT</button>
        <button type="submit" class="btn primary" id="downloadPDFBtn">ğŸ” Export as PDF</button>
        <button type="button" class="btn ghost" id="downloadDOCXBtn">Download DOCX</button>
      </div>
    </form>

    <footer class="foot-note">
      <p class="muted">Generated with SmartWerk â€” smartwerk.nl</p>
    </footer>
  </div>

   <script>

     // contract.js â€” SmartWerk Freelance Contract Logic

document.addEventListener("DOMContentLoaded", () => {
  const contractForm = document.getElementById("contractForm");

  const validUntil = new Date();
  validUntil.setDate(validUntil.getDate() + 14);
  const formattedDate = validUntil.toLocaleDateString();

  // Elements
  const aiFillBtn = document.getElementById("aiFillBtn");
  const downloadPDFBtn = document.getElementById("downloadPDFBtn");
  const downloadDOCXBtn = document.getElementById("downloadDOCXBtn");

  aiFillBtn.addEventListener("click", () => {
    document.getElementById("projectDescription").value = `Design and deliver a responsive website including homepage, services page, and contact form.`;
    document.getElementById("timeline").value = `Start: ${new Date().toLocaleDateString()}, Delivery: ${formattedDate}`;
    document.getElementById("rate").value = "â‚¬1500";
    document.getElementById("paymentTerms").value = "50% upfront, 50% after delivery";
    document.getElementById("terminationClause").value = "Either party may terminate this agreement with 7 days written notice.";
    document.getElementById("jurisdiction").value = "This contract is governed by the laws of the Netherlands.";
  });

  downloadPDFBtn.addEventListener("click", async (e) => {
    e.preventDefault();
    const { jsPDF } = await import("https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js");
    const autoTable = (await import("https://cdn.jsdelivr.net/npm/jspdf-autotable@3.5.23")).default;

    const doc = new jsPDF();

    const get = (id) => document.getElementById(id).value || "-";

    doc.setFontSize(18);
    doc.text("ğŸ“ƒ Freelance Contract", 14, 20);

    doc.setFontSize(12);
    doc.text("Business Info:", 14, 30);
    doc.text(`Name: ${get("businessName")}`, 14, 36);
    doc.text(`KvK: ${get("businessKvK")}`, 14, 42);
    doc.text(`VAT: ${get("businessVAT")}`, 14, 48);
    doc.text(`IBAN: ${get("businessIBAN")}`, 14, 54);

    doc.text("Client Info:", 14, 66);
    doc.text(`Name: ${get("clientName")}`, 14, 72);
    doc.text(`Address: ${get("clientAddress")}`, 14, 78);

    autoTable(doc, {
      startY: 90,
      head: [["Section", "Content"]],
      body: [
        ["Project Description", get("projectDescription")],
        ["Timeline", get("timeline")],
        ["Rate", get("rate")],
        ["Payment Terms", get("paymentTerms")],
        ["Termination", get("terminationClause")],
        ["Jurisdiction", get("jurisdiction")],
      ],
      styles: { cellWidth: 'wrap' },
      columnStyles: {
        0: { cellWidth: 50, fontStyle: 'bold' },
        1: { cellWidth: 130 }
      }
    });

    doc.text("Signature:", 14, doc.lastAutoTable.finalY + 14);
    doc.text(`${get("signatureName")}`, 14, doc.lastAutoTable.finalY + 20);
    doc.text(`Date: ${get("contractDate")}`, 14, doc.lastAutoTable.finalY + 26);

    doc.setFontSize(10);
    doc.setTextColor(150);
    doc.text("Generated with SmartWerk â€” smartwerk.nl", 14, 290);

    doc.save(`Contract-${get("clientName")}.pdf`);
  });

  downloadDOCXBtn.addEventListener("click", () => {
    alert("ğŸ“„ DOCX export coming soon!");
  });
});
     // contract-docx.js â€” SmartWerk DOCX export (optional)

import docx from "https://cdn.jsdelivr.net/npm/docx@8.4.0/build/index.min.js";

const { Document, Packer, Paragraph, TextRun } = docx;

export function generateContractDOCX() {
  const get = (id) => document.getElementById(id).value || "-";

  const doc = new Document({
    sections: [
      {
        properties: {},
        children: [
          new Paragraph({
            children: [
              new TextRun({ text: "ğŸ“ƒ Freelance Contract", bold: true, size: 32 }),
            ],
          }),
          new Paragraph({ text: " " }),
          new Paragraph({ text: `Business Name: ${get("businessName")}` }),
          new Paragraph({ text: `KvK: ${get("businessKvK")}` }),
          new Paragraph({ text: `VAT: ${get("businessVAT")}` }),
          new Paragraph({ text: `IBAN: ${get("businessIBAN")}` }),
          new Paragraph({ text: " " }),
          new Paragraph({ text: `Client Name: ${get("clientName")}` }),
          new Paragraph({ text: `Client Address: ${get("clientAddress")}` }),
          new Paragraph({ text: " " }),
          new Paragraph({ text: `Project Description: ${get("projectDescription")}` }),
          new Paragraph({ text: `Timeline: ${get("timeline")}` }),
          new Paragraph({ text: `Rate: ${get("rate")}` }),
          new Paragraph({ text: `Payment Terms: ${get("paymentTerms")}` }),
          new Paragraph({ text: `Termination Clause: ${get("terminationClause")}` }),
          new Paragraph({ text: `Jurisdiction: ${get("jurisdiction")}` }),
          new Paragraph({ text: " " }),
          new Paragraph({ text: `Signed by: ${get("signatureName")}` }),
          new Paragraph({ text: `Date: ${get("contractDate")}` }),
          new Paragraph({ text: " " }),
          new Paragraph({ text: "Generated with SmartWerk â€” smartwerk.nl", size: 18 }),
        ],
      },
    ],
  });

  Packer.toBlob(doc).then((blob) => {
    const link = document.createElement("a");
    link.href = URL.createObjectURL(blob);
    link.download = `Contract-${get("clientName")}.docx`;
    link.click();
  });
}

     // contract-pdf.js â€” Export contract as professional PDF

import jsPDF from "https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js";

window.generateContractPDF = function () {
  const {
    businessName,
    businessKvK,
    businessVAT,
    businessIBAN,
    clientName,
    clientAddress,
    projectDescription,
    timeline,
    rate,
    paymentTerms,
    terminationClause,
    jurisdiction,
    signatureName,
    contractDate,
  } = Object.fromEntries(
    [
      "businessName",
      "businessKvK",
      "businessVAT",
      "businessIBAN",
      "clientName",
      "clientAddress",
      "projectDescription",
      "timeline",
      "rate",
      "paymentTerms",
      "terminationClause",
      "jurisdiction",
      "signatureName",
      "contractDate",
    ].map((id) => [id, document.getElementById(id)?.value || ""])
  );

  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();
  let y = 20;

  function addSection(title, content) {
    doc.setFontSize(14);
    doc.setFont(undefined, "bold");
    doc.text(title, 14, y);
    y += 6;
    doc.setFontSize(12);
    doc.setFont(undefined, "normal");
    const splitText = doc.splitTextToSize(content, 180);
    doc.text(splitText, 14, y);
    y += splitText.length * 6 + 4;
  }

  doc.setFontSize(18);
  doc.text("ğŸ“ƒ Freelance Contract", 14, y);
  y += 10;

  addSection("ğŸ§¾ Business Info", `Name: ${businessName}\nKvK: ${businessKvK}\nVAT: ${businessVAT}\nIBAN: ${businessIBAN}`);
  addSection("ğŸ‘¤ Client Info", `Name: ${clientName}\nAddress: ${clientAddress}`);
  addSection("ğŸ“‹ Project Description", projectDescription);
  addSection("ğŸ“… Timeline", timeline);
  addSection("ğŸ’¶ Payment Terms", `Rate: ${rate}\nTerms: ${paymentTerms}`);
  addSection("âš–ï¸ Legal", `Termination: ${terminationClause}\nJurisdiction: ${jurisdiction}`);
  addSection("âœï¸ Signature", `Name: ${signatureName}\nDate: ${contractDate}`);

  doc.setFontSize(10);
  doc.setTextColor(150);
  doc.text("Generated with SmartWerk â€” smartwerk.nl", 14, 290);

  doc.save(`Contract-${clientName || "Client"}.pdf`);
};

// Bind button
document.getElementById("downloadPDFBtn")?.addEventListener("click", generateContractPDF);

import { saveAs } from "https://cdn.jsdelivr.net/npm/file-saver@2.0.5/+esm";
import { Document, Packer, Paragraph, TextRun, HeadingLevel } from "https://cdn.jsdelivr.net/npm/docx@7.7.0/+esm";

document.getElementById("downloadDOCXBtn").addEventListener("click", exportContractAsDOCX);

function exportContractAsDOCX() {
  const businessName = document.getElementById("businessName").value || "Your Business Name";
  const businessKvK = document.getElementById("businessKvK").value || "-";
  const businessVAT = document.getElementById("businessVAT").value || "-";
  const businessIBAN = document.getElementById("businessIBAN").value || "-";

  const clientName = document.getElementById("clientName").value || "Client Name";
  const clientAddress = document.getElementById("clientAddress").value || "-";

  const projectDescription = document.getElementById("projectDescription").value || "Not specified";
  const timeline = document.getElementById("timeline").value || "-";

  const rate = document.getElementById("rate").value || "-";
  const paymentTerms = document.getElementById("paymentTerms").value || "-";

  const terminationClause = document.getElementById("terminationClause").value || "-";
  const jurisdiction = document.getElementById("jurisdiction").value || "-";

  const signatureName = document.getElementById("signatureName").value || "Your Name";
  const contractDate = document.getElementById("contractDate").value || new Date().toISOString().slice(0, 10);

  const doc = new Document({
    sections: [
      {
        children: [
          new Paragraph({
            text: "ğŸ“ƒ Freelance Contract",
            heading: HeadingLevel.TITLE,
          }),

          new Paragraph({
            text: `Generated by SmartWerk on ${contractDate}`,
            spacing: { after: 300 },
          }),

          section("ğŸ§¾ Business Info", [
            `Name: ${businessName}`,
            `KvK: ${businessKvK}`,
            `VAT: ${businessVAT}`,
            `IBAN: ${businessIBAN}`,
          ]),

          section("ğŸ‘¤ Client Info", [
            `Name: ${clientName}`,
            `Address: ${clientAddress}`,
          ]),

          section("ğŸ“‹ Project Details", [
            `Description: ${projectDescription}`,
            `Timeline: ${timeline}`,
          ]),

          section("ğŸ’¶ Payment Terms", [
            `Rate: ${rate}`,
            `Terms: ${paymentTerms}`,
          ]),

          section("âš–ï¸ Legal", [
            `Termination Clause: ${terminationClause}`,
            `Jurisdiction: ${jurisdiction}`,
          ]),

          section("âœï¸ Signature", [
            `Signed by: ${signatureName}`,
            `Date: ${contractDate}`,
          ]),

          new Paragraph({
            text: "Generated with SmartWerk â€” smartwerk.nl",
            spacing: { before: 300 },
            style: "footer",
          }),
        ],
      },
    ],
  });

  Packer.toBlob(doc).then((blob) => {
    saveAs(blob, `SmartWerk-Contract-${clientName || "Client"}.docx`);
  });
}

function section(title, lines) {
  return [
    new Paragraph({
      text: title,
      heading: HeadingLevel.HEADING_2,
      spacing: { after: 100 },
    }),
    ...lines.map(
      (line) =>
        new Paragraph({
          children: [new TextRun(line)],
          spacing: { after: 100 },
        })
    ),
  ].flat();
}


     
   </script>

  <script type="module" src="contract.js"></script>
  <script type="module" src="contract-pdf.js"></script>
  <script type="module" src="contract-docx.js"></script>

  
</body>
</html>

