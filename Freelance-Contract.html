<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SmartWerk ‚Äî Freelance Contract</title>
  <link rel="stylesheet" href="style-Freelance-Contract.css" />
</head>
<body>
  <div class="wrap">
    <h1>üìÉ Freelance Contract</h1>

    <div class="form-section">
      <label>Business Name</label>
      <input id="businessName" />
      <label>Business Address</label>
      <input id="businessAddress" />
    </div>

    <div class="form-section">
      <label>Client Name</label>
      <input id="clientName" />
      <label>Client Address</label>
      <input id="clientAddress" />
    </div>

    <div class="form-section">
      <label>Project Title</label>
      <input id="projectTitle" />
      <label>Project Description</label>
      <textarea id="projectDescription" rows="4"></textarea>
    </div>

    <div class="form-section">
      <label>Timeline</label>
      <textarea id="timeline" rows="3"></textarea>
    </div>

    <div class="form-section">
      <label>Payment Terms</label>
      <textarea id="paymentTerms" rows="3"></textarea>
    </div>

    <div class="form-section">
      <label>Legal Clauses</label>
      <textarea id="legal" rows="4"></textarea>
    </div>

    <div class="form-section">
      <label>Your Name (Signature)</label>
      <input id="signatureBusiness" />
      <label>Client Signature (Optional)</label>
      <input id="signatureClient" />
      <label>Date</label>
      <input type="date" id="contractDate" />
    </div>

    <div class="form-section">
      <label>Contract Number</label>
      <input id="contractNumber" />
    </div>

    <div class="form-section">
      <button class="btn" onclick="saveContract()">üíæ Save Contract</button>
      <button class="btn ghost" onclick="toggleSaved()">üìÇ View Saved Contracts</button>
      <button class="btn ghost" onclick="fillAI()">‚ö° AI Fill</button>
      <button class="btn ghost" onclick="exportContractPDF()">üìÑ Export PDF</button>
    </div>

    <div class="saved-section" id="savedContractsSection">
      <h2>üìÅ Saved Contracts</h2>
      <table>
        <thead>
          <tr>
            <th>Contract No</th>
            <th>Client</th>
            <th>Project</th>
            <th>Date</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="savedContractsBody"></tbody>
      </table>
    </div>
  </div>

  <script>
    function saveContract() {
      const contract = {
        businessName: document.getElementById("businessName").value,
        businessAddress: document.getElementById("businessAddress").value,
        clientName: document.getElementById("clientName").value,
        clientAddress: document.getElementById("clientAddress").value,
        projectTitle: document.getElementById("projectTitle").value,
        projectDescription: document.getElementById("projectDescription").value,
        timeline: document.getElementById("timeline").value,
        paymentTerms: document.getElementById("paymentTerms").value,
        legal: document.getElementById("legal").value,
        signatureBusiness: document.getElementById("signatureBusiness").value,
        signatureClient: document.getElementById("signatureClient").value,
        date: document.getElementById("contractDate").value,
        contractNumber: document.getElementById("contractNumber").value,
      };
      const saved = JSON.parse(localStorage.getItem("savedContracts") || "[]");
      saved.push(contract);
      localStorage.setItem("savedContracts", JSON.stringify(saved));
      alert("‚úÖ Contract saved!");
      loadSavedContracts();
    }

    function loadSavedContracts() {
      const saved = JSON.parse(localStorage.getItem("savedContracts") || "[]");
      const tbody = document.getElementById("savedContractsBody");
      tbody.innerHTML = "";
      saved.forEach((contract, index) => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${contract.contractNumber || "-"}</td>
          <td>${contract.clientName}</td>
          <td>${contract.projectTitle}</td>
          <td>${contract.date}</td>
          <td>
            <button class="btn small" onclick="viewContract(${index})">üëÅ View</button>
            <button class="btn small danger" onclick="deleteContract(${index})">üóë Delete</button>
          </td>
        `;
        tbody.appendChild(tr);
      });
    }

    function viewContract(index) {
      const saved = JSON.parse(localStorage.getItem("savedContracts") || "[]");
      const c = saved[index];
      if (!c) return;
      document.getElementById("businessName").value = c.businessName;
      document.getElementById("businessAddress").value = c.businessAddress;
      document.getElementById("clientName").value = c.clientName;
      document.getElementById("clientAddress").value = c.clientAddress;
      document.getElementById("projectTitle").value = c.projectTitle;
      document.getElementById("projectDescription").value = c.projectDescription;
      document.getElementById("timeline").value = c.timeline;
      document.getElementById("paymentTerms").value = c.paymentTerms;
      document.getElementById("legal").value = c.legal;
      document.getElementById("signatureBusiness").value = c.signatureBusiness;
      document.getElementById("signatureClient").value = c.signatureClient;
      document.getElementById("contractDate").value = c.date;
      document.getElementById("contractNumber").value = c.contractNumber;
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    function deleteContract(index) {
      if (!confirm("‚ùå Delete this contract?")) return;
      const saved = JSON.parse(localStorage.getItem("savedContracts") || "[]");
      saved.splice(index, 1);
      localStorage.setItem("savedContracts", JSON.stringify(saved));
      loadSavedContracts();
    }

    function toggleSaved() {
      const section = document.getElementById("savedContractsSection");
      section.style.display = section.style.display === "block" ? "none" : "block";
      loadSavedContracts();
    }

    function fillAI() {
      document.getElementById("businessName").value = "SmartWerk Solutions";
      document.getElementById("businessAddress").value = "Den Bosch, NL";
      document.getElementById("clientName").value = "John Smith";
      document.getElementById("clientAddress").value = "Keizersgracht 123, Amsterdam";
      document.getElementById("projectTitle").value = "Website Development";
      document.getElementById("projectDescription").value = "Develop a modern responsive website using HTML, CSS, JavaScript, and backend integration.";
      document.getElementById("timeline").value = "Project will run from Sept 10 to Oct 15, 2025.";
      document.getElementById("paymentTerms").value = "50% upfront, 50% upon completion.";
      document.getElementById("legal").value = "The contractor is responsible for delivering quality work on time. Disputes will be resolved under Dutch law.";
      document.getElementById("signatureBusiness").value = "SmartWerk Team";
      document.getElementById("signatureClient").value = "John Smith";
      document.getElementById("contractDate").value = new Date().toISOString().split("T")[0];
      document.getElementById("contractNumber").value = "CONTRACT-2025-001";
    }

    function exportContractPDF() {
      alert("üîß PDF export will be added later!");
    }
  </script>
</body>
</html>
