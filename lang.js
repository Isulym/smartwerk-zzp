// ðŸŒ SmartWerk Multilanguage Configuration
window.translations = {
  en: {
    menu: "Menu",
    back_dashboard: "Back to Dashboard",
    home: "Home",
    clients: "Clients",
    create_client: "Create Client",
    saved_clients: "Saved Clients",
    invoices: "Invoices",
    create_invoice: "Create Invoice",
    saved_invoices: "Saved Invoices",
    quotes: "Quotes",
    create_quote: "Create Quote",
    saved_quotes: "Saved Quotes",
    contracts: "Contracts",
    create_contract: "Create Contract",
    saved_contracts: "Saved Contracts",
    reminders: "Reminders",
    create_reminder: "Create Reminder",
    saved_reminders: "Saved Reminders",
    expense_csv: "Expense CSV",
    create_expense: "Create Expense",
    saved_expenses: "Saved Expenses",
    analytics: "Analytics",
    bookkeeper: "My Bookkeeper",
    summary: "Summary",
    roi: "ROI Estimator",
    taxassistant: "Tax Assistant",
    tax_calculator: "Tax Calculator",
    tax_analytics: "Tax Analytics",
    tax_guide: "Tax Guide",
    templates: "Templates",
    email_gemeente: "Email to Gemeente",
    cv: "CV / Portfolio",
    ai_assistant: "AI Assistant (PRO)",
    settings: "Settings",
    profile: "Profile",
    toggle_theme: "Toggle Theme",
    help: "Help",
    upgrade: "Upgrade to PRO",
    contact: "Contact Support",
    logout: "Logout",
    welcome: "Welcome",
    plan_free: "Free",
    quick_clients: "Clients",
    quick_invoice: "Invoice",
    quick_quote: "Quote",
    quick_contract: "Contract",
    quick_reminder: "Reminder",
    revenue: "Revenue",
    unpaid: "Unpaid",
    quote_rate: "Quote Win-Rate",
    reminders_sent: "Reminders Sent",
    expenses: "Expenses",
    overdue: "Overdue",
    top_client: "Top Client",
    smart_suggestions: "Smart Suggestions",
    suggestion_all_good: "âœ… All good. Keep it up!",
    suggestion_overdue_invoices: "ðŸ“Œ {count} overdue invoices â€” send reminders.",
    suggestion_no_reminders: "âš ï¸ Overdue invoices exist but no reminders sent.",
    suggestion_low_winrate: "ðŸ“‰ Low quote win rate â€” optimize your offers.",
    suggestion_expenses_over: "ðŸ“Š Expenses exceed revenue this month.",
    recent_activity: "Recent Activity",
    loading: "Loading...",
    chart_title: "Revenue",
    chart_labels: {
      draft: "Draft",
      sent: "Sent",
      paid: "Paid",
      overdue: "Overdue"
    },
    activity_types: {
      navigation: "Navigation",
      invoice: "Invoice",
      event: "Event"
    },
    activity_messages: {
      "created clients": "Created clients",
      "created reminder": "Created reminder",
      "invoice inv-2025-027 updated": "Invoice INV-2025-027 updated"
    }
  },

  nl: {
    menu: "Menu",
    back_dashboard: "Terug naar dashboard",
    home: "Home",
    clients: "Klanten",
    create_client: "Klant aanmaken",
    saved_clients: "Opgeslagen klanten",
    invoices: "Facturen",
    create_invoice: "Factuur aanmaken",
    saved_invoices: "Opgeslagen facturen",
    quotes: "Offertes",
    create_quote: "Offerte aanmaken",
    saved_quotes: "Opgeslagen offertes",
    contracts: "Contracten",
    create_contract: "Contract aanmaken",
    saved_contracts: "Opgeslagen contracten",
    reminders: "Herinneringen",
    create_reminder: "Herinnering aanmaken",
    saved_reminders: "Opgeslagen herinneringen",
    expense_csv: "Onkosten CSV",
    create_expense: "Maak kosten aan",
    saved_expenses: "Opgeslagen kosten",
    analytics: "Analytics",
    my_bookkeeper: "Mijn boekhouder",
    summary: "Overzicht",
    roi_estimator: "ROI-calculator",
    tax_assistant: "Belastingassistent",
    tax_calculator: "Belastingcalculator",
    tax_analytics: "Belastinganalyse",
    tax_guide: "Belastinggids",
    templates: "Sjablonen",
    email_gemeente: "E-mail naar gemeente",
    cv_portfolio: "CV / Portfolio",
    ai_assistant: "AI Assistent (PRO)",
    settings: "Instellingen",
    profile: "Profiel",
    toggle_theme: "Thema wisselen",
    help: "Hulp",
    upgrade_pro: "Upgraden naar PRO",
    contact_support: "Neem contact op met Support",
    logout: "Uitloggen",
    welcome: "Welkom",
    plan_free: "Gratis",
    quick_clients: "Klanten",
    quick_invoice: "Factuur",
    quick_quote: "Offerte",
    quick_contract: "Contract",
    quick_reminder: "Herinnering",
    revenue: "Inkomsten",
    unpaid: "Onbetaald",
    quote_rate: "Winstpercentage offerte",
    reminders_sent: "Verzonden herinneringen",
    expenses: "Uitgaven",
    overdue: "Achterstallig",
    top_client: "Topklant",
    smart_suggestions: "Slimme suggesties",
    suggestion_all_good: "âœ… Alles goed. Ga zo door!",
    suggestion_overdue_invoices: "ðŸ“Œ {count} achterstallige facturen â€” stuur herinneringen.",
    suggestion_no_reminders: "âš ï¸ Achterstallige facturen maar geen herinneringen verzonden.",
    suggestion_low_winrate: "ðŸ“‰ Lage offerte-succesratio â€” optimaliseer je aanbiedingen.",
    suggestion_expenses_over: "ðŸ“Š Uitgaven overschrijden de inkomsten deze maand.",
    recent_activity: "Recente activiteit",
    loading: "Laden...",
    chart_title: "Inkomsten",
    chart_labels: {
      draft: "Concept",
      sent: "Verzonden",
      paid: "Betaald",
      overdue: "Achterstallig"
    },
    activity_types: {
      navigation: "Navigatie",
      invoice: "Factuur",
      event: "Gebeurtenis"
    },
    activity_messages: {
      "created clients": "Klanten aangemaakt",
      "created reminder": "Herinnering aangemaakt",
      "invoice inv-2025-027 updated": "Factuur INV-2025-027 bijgewerkt"
    }
  },

  de: {
    menu: "MenÃ¼",
    back_dashboard: "ZurÃ¼ck zum Dashboard",
    home: "Startseite",
    clients: "Kunden",
    invoices: "Rechnungen",
    quotes: "Angebote",
    contracts: "VertrÃ¤ge",
    reminders: "Erinnerungen",
    expense_csv: "Ausgaben CSV",
    analytics: "Analytik",
    tax_assistant: "Steuerassistent",
    templates: "Vorlagen",
    settings: "Einstellungen",
    help: "Hilfe",
    logout: "Abmelden",
    welcome: "Willkommen",
    revenue: "Einnahmen",
    unpaid: "Unbezahlt",
    overdue: "ÃœberfÃ¤llig",
    expenses: "Ausgaben",
    suggestion_all_good: "âœ… Alles gut. Weiter so!",
    chart_title: "Einnahmen",
    chart_labels: { draft: "Entwurf", sent: "Gesendet", paid: "Bezahlt", overdue: "ÃœberfÃ¤llig" }
  },

  fr: {
    menu: "Menu",
    back_dashboard: "Retour au tableau de bord",
    home: "Accueil",
    clients: "Clients",
    invoices: "Factures",
    quotes: "Devis",
    contracts: "Contrats",
    reminders: "Rappels",
    expense_csv: "DÃ©penses CSV",
    analytics: "Analytique",
    tax_assistant: "Assistant fiscal",
    templates: "ModÃ¨les",
    settings: "ParamÃ¨tres",
    help: "Aide",
    logout: "DÃ©connexion",
    welcome: "Bienvenue",
    revenue: "Revenu",
    unpaid: "ImpayÃ©",
    overdue: "En retard",
    expenses: "DÃ©penses",
    suggestion_all_good: "âœ… Tout va bien. Continuez comme Ã§aÂ !",
    chart_title: "Revenu",
    chart_labels: { draft: "Brouillon", sent: "EnvoyÃ©", paid: "PayÃ©", overdue: "En retard" }
  },

  pl: {
    menu: "Menu",
    back_dashboard: "PowrÃ³t do panelu",
    home: "Strona gÅ‚Ã³wna",
    clients: "Klienci",
    invoices: "Faktury",
    quotes: "Oferty",
    contracts: "Umowy",
    reminders: "Przypomnienia",
    expense_csv: "Wydatki CSV",
    analytics: "Analiza",
    tax_assistant: "Asystent podatkowy",
    templates: "Szablony",
    settings: "Ustawienia",
    help: "Pomoc",
    logout: "Wyloguj",
    welcome: "Witamy",
    revenue: "Przychody",
    unpaid: "NiezapÅ‚acone",
    overdue: "ZalegÅ‚e",
    expenses: "Wydatki",
    suggestion_all_good: "âœ… Wszystko dobrze. Tak trzymaÄ‡!",
    chart_title: "Przychody",
    chart_labels: { draft: "Szkic", sent: "WysÅ‚ane", paid: "OpÅ‚acone", overdue: "ZalegÅ‚e" }
  },

  ru: {
    menu: "ÐœÐµÐ½ÑŽ",
    back_dashboard: "ÐÐ°Ð·Ð°Ð´ Ðº Ð¿Ð°Ð½ÐµÐ»Ð¸",
    home: "Ð“Ð»Ð°Ð²Ð½Ð°Ñ",
    clients: "ÐšÐ»Ð¸ÐµÐ½Ñ‚Ñ‹",
    create_client: "Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°",
    saved_clients: "Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð½Ñ‹Ðµ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ñ‹",
    invoices: "Ð¡Ñ‡ÐµÑ‚Ð°",
    create_invoice: "Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÑÑ‡ÐµÑ‚",
    saved_invoices: "Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð½Ñ‹Ðµ ÑÑ‡ÐµÑ‚Ð°",
    quotes: "ÐŸÑ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ",
    create_quote: "Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÐŸÑ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ",
    saved_quotes: "Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð½Ñ‹Ðµ ÐŸÑ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ",
    contracts: "Ð”Ð¾Ð³Ð¾Ð²Ð¾Ñ€Ñ‹",
    create_contract: "Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð´Ð¾Ð³Ð¾Ð²Ð¾Ñ€",
    saved_contracts: "Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð½Ñ‹Ðµ Ð´Ð¾Ð³Ð¾Ð²Ð¾Ñ€Ñ‹",
    reminders: "ÐÐ°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ñ",
    create_reminder: "Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ðµ",
    saved_reminders: "Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð½Ñ‹Ðµ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ñ",
    expense_csv: "Ð Ð°ÑÑ…Ð¾Ð´Ñ‹ CSV",
    create_expense: "Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ€Ð°ÑÑ…Ð¾Ð´",
    saved_expenses: "Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð½Ñ‹Ðµ Ñ€Ð°ÑÑ…Ð¾Ð´Ñ‹",
    analytics: "ÐÐ½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ°",
    bookkeeper: "ÐœÐ¾Ð¹ Ð±ÑƒÑ…Ð³Ð°Ð»Ñ‚ÐµÑ€",
    summary: "Ð¡Ð²Ð¾Ð´ÐºÐ°",
    roi: "ÐžÑ†ÐµÐ½Ñ‰Ð¸Ðº Ñ€ÐµÐ½Ñ‚Ð°Ð±ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸ Ð¸Ð½Ð²ÐµÑÑ‚Ð¸Ñ†Ð¸Ð¹",
    tax_assistant: "ÐÐ°Ð»Ð¾Ð³Ð¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ð¼Ð¾Ñ‰Ð½Ð¸Ðº",
    tax_calculator: "ÐÐ°Ð»Ð¾Ð³Ð¾Ð²Ñ‹Ð¹ ÐºÐ°Ð»ÑŒÐºÑƒÐ»ÑÑ‚Ð¾Ñ€",
    tax_analytics: "ÐÐ°Ð»Ð¾Ð³Ð¾Ð²Ð°Ñ Ð°Ð½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ°",
    tax_guide: "ÐÐ°Ð»Ð¾Ð³Ð¾Ð²Ð¾Ðµ Ñ€ÑƒÐºÐ¾Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾",
    templates: "Ð¨Ð°Ð±Ð»Ð¾Ð½Ñ‹",
    email_gemeente: "ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ð¾ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð¾Ð¹ Ð¿Ð¾Ñ‡Ñ‚Ðµ Gemeente",
    cv: "Ð ÐµÐ·ÑŽÐ¼Ðµ/ÐŸÐ¾Ñ€Ñ‚Ñ„Ð¾Ð»Ð¸Ð¾",
    ai_assistant: "Ð˜Ð˜-Ð¿Ð¾Ð¼Ð¾Ñ‰Ð½Ð¸Ðº (PRO)",
    settings: "ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸",
    profile: "ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ",
    toggle_theme: "ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ñ‚ÐµÐ¼Ñƒ",
    help: "ÐŸÐ¾Ð¼Ð¾Ñ‰ÑŒ",
    upgrade: "ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð½Ð° PRO",
    contact: "Ð¡Ð²ÑÐ·Ð°Ñ‚ÑŒÑÑ ÑÐ¾ ÑÐ»ÑƒÐ¶Ð±Ð¾Ð¹ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¸",
    logout: "Ð’Ñ‹Ð¹Ñ‚Ð¸",
    welcome: "Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ",
    plan_free: "Ð‘ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾",
    quick_clients: "Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°",
    quick_invoice: "Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÑÑ‡ÐµÑ‚",
    quick_quote: "Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÐŸÑ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ",
    quick_contract: "Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð´Ð¾Ð³Ð¾Ð²Ð¾Ñ€",
    quick_reminder: "Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ðµ",
    revenue: "Ð”Ð¾Ñ…Ð¾Ð´",
    unpaid: "ÐÐµÐ¾Ð¿Ð»Ð°Ñ‡ÐµÐ½Ð¾",
    quote_rate: "ÐŸÑ€Ð¾Ñ†ÐµÐ½Ñ‚ ÑƒÑÐ¿ÐµÑˆÐ½Ñ‹Ñ… Ð·Ð°ÑÐ²Ð¾Ðº",
    reminders_sent: "ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¾ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ð¹",
    overdue: "ÐŸÑ€Ð¾ÑÑ€Ð¾Ñ‡ÐµÐ½Ð¾",
    expenses: "Ð Ð°ÑÑ…Ð¾Ð´Ñ‹",
    top_client: "Ð›ÑƒÑ‡ÑˆÐ¸Ð¹ ÐºÐ»Ð¸ÐµÐ½Ñ‚",
    suggestion_all_good: "âœ… Ð’ÑÑ‘ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾. Ð¢Ð°Ðº Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ!",
    suggestion_overdue_invoices: "ðŸ“Œ {ÑÑ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ} Ð¿Ñ€Ð¾ÑÑ€Ð¾Ñ‡ÐµÐ½Ð½Ñ‹Ñ… ÑÑ‡ÐµÑ‚Ð¾Ð² â€” Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ñ.",
    suggestion_no_reminders: "âš ï¸ Ð•ÑÑ‚ÑŒ Ð¿Ñ€Ð¾ÑÑ€Ð¾Ñ‡ÐµÐ½Ð½Ñ‹Ðµ ÑÑ‡ÐµÑ‚Ð°, Ð½Ð¾ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ñ Ð½Ðµ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ñ‹.",
    suggestion_low_winrate: "ðŸ“‰ ÐÐ¸Ð·ÐºÐ°Ñ Ð¾Ñ†ÐµÐ½ÐºÐ° rate â€” Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ ÑÐ²Ð¾Ð¸ Ð¿Ñ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ.",
    suggestion_expenses_over: "ðŸ“Š Ð Ð°ÑÑ…Ð¾Ð´Ñ‹ Ð¿Ñ€ÐµÐ²Ñ‹ÑˆÐ°ÑŽÑ‚ Ð²Ñ‹Ñ€ÑƒÑ‡ÐºÑƒ Ð² ÑÑ‚Ð¾Ð¼ Ð¼ÐµÑÑÑ†Ðµ.",
     recent_activity: "ÐÐµÐ´Ð°Ð²Ð½ÑÑ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ",
    loading: "Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°...",
    chart_title: "Ð”Ð¾Ñ…Ð¾Ð´",
    chart_labels: { draft: "Ð§ÐµÑ€Ð½Ð¾Ð²Ð¸Ðº", sent: "ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¾", paid: "ÐžÐ¿Ð»Ð°Ñ‡ÐµÐ½Ð¾", overdue: "ÐŸÑ€Ð¾ÑÑ€Ð¾Ñ‡ÐµÐ½Ð¾" },
    activity_types: { navigation: "ÐÐ°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ñ",invoice: "Ð¡Ñ‡ÐµÑ‚",event: "Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ðµ" },
    activity_messages: {"created clients": "Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¾ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð¾Ð²", "created reminder": "Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¾ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ðµ",
      "invoice inv-2025-027 updated": "Ð¡Ñ‡ÐµÑ‚ INV-2025-027 Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¾" }
  },

  es: {
    menu: "MenÃº",
    back_dashboard: "Volver al panel",
    home: "Inicio",
    clients: "Clientes",
    invoices: "Facturas",
    quotes: "Presupuestos",
    contracts: "Contratos",
    reminders: "Recordatorios",
    expense_csv: "Gastos CSV",
    analytics: "AnalÃ­tica",
    tax_assistant: "Asistente Fiscal",
    templates: "Plantillas",
    settings: "ConfiguraciÃ³n",
    help: "Ayuda",
    logout: "Cerrar sesiÃ³n",
    welcome: "Bienvenido",
    revenue: "Ingresos",
    unpaid: "No pagado",
    overdue: "Atrasado",
    expenses: "Gastos",
    suggestion_all_good: "âœ… Todo bien. Â¡Sigue asÃ­!",
    chart_title: "Ingresos",
    chart_labels: { draft: "Borrador", sent: "Enviado", paid: "Pagado", overdue: "Atrasado" }
  }
};

// ðŸ§  Apply Translations
function applyTranslations(lang = "en") {
  const dict = window.translations[lang] || window.translations["en"];
  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.getAttribute("data-i18n");
    if (dict[key]) el.textContent = dict[key];
  });
}

document.addEventListener("DOMContentLoaded", () => {
  const selectedLang = localStorage.getItem("language") || "en";
  applyTranslations(selectedLang);

  const langSelector = document.getElementById("languageSwitcher");
  if (langSelector) {
    langSelector.value = selectedLang;
    langSelector.addEventListener("change", function () {
      localStorage.setItem("language", this.value);
      location.reload();
    });
  }
});
