// ðŸŒ SmartWerk Multilanguage Configuration
window.translations = {
  en: {
    menu: "Menu",
    back_dashboard: "Back to Dashboard",
    home: "Home",
    clients: "Clients",
    create_client: "Create Client",
    saved_clients: "Saved Clients",
    invoices: "Invoices",
    create_invoice: "Create Invoice",
    saved_invoices: "Saved Invoices",
    quotes: "Quotes",
    create_quote: "Create Quote",
    saved_quotes: "Saved Quotes",
    contracts: "Contracts",
    create_contract: "Create Contract",
    saved_contracts: "Saved Contracts",
    reminders: "Reminders",
    create_reminder: "Create Reminder",
    saved_reminders: "Saved Reminders",
    expense_csv: "Expense CSV",
    create_expense: "Create Expense",
    saved_expenses: "Saved Expenses",
    analytics: "Analytics",
    bookkeeper: "My Bookkeeper",
    summary: "Summary",
    roi: "ROI Estimator",
    taxassistant: "Tax Assistant",
    tax_calculator: "Tax Calculator",
    tax_analytics: "Tax Analytics",
    tax_guide: "Tax Guide",
    templates: "Templates",
    email_gemeente: "Email to Gemeente",
    cv: "CV / Portfolio",
    ai_assistant: "AI Assistant (PRO)",
    settings: "Settings",
    profile: "Profile",
    toggle_theme: "Toggle Theme",
    help: "Help",
    upgrade: "Upgrade to PRO",
    contact: "Contact Support",
    logout: "Logout",
    welcome: "Welcome",
    plan_free: "Free",
    quick_clients: "Clients",
    quick_invoice: "Invoice",
    quick_quote: "Quote",
    quick_contract: "Contract",
    quick_reminder: "Reminder",
    revenue: "Revenue",
    unpaid: "Unpaid",
    quote_rate: "Quote Win-Rate",
    reminders_sent: "Reminders Sent",
    expenses: "Expenses",
    overdue: "Overdue",
    top_client: "Top Client",
    smart_suggestions: "Smart Suggestions",
    suggestion_all_good: "âœ… All good. Keep it up!",
    suggestion_overdue_invoices: "ðŸ“Œ {count} overdue invoices â€” send reminders.",
    suggestion_no_reminders: "âš ï¸ Overdue invoices exist but no reminders sent.",
    suggestion_low_winrate: "ðŸ“‰ Low quote win rate â€” optimize your offers.",
    suggestion_expenses_over: "ðŸ“Š Expenses exceed revenue this month.",
    recent_activity: "Recent Activity",
    loading: "Loading...",
    chart_title: "Revenue",
    chart_labels: {
      draft: "Draft",
      sent: "Sent",
      paid: "Paid",
      overdue: "Overdue"
    },
    activity_types: {
      navigation: "Navigation",
      invoice: "Invoice",
      event: "Event"
    },
    activity_messages: {
      "created clients": "Created clients",
      "created reminder": "Created reminder",
      "invoice inv-2025-027 updated": "Invoice INV-2025-027 updated"
    }
  },

  nl: {
    menu: "Menu",
    back_dashboard: "Terug naar dashboard",
    home: "Home",
    clients: "Klanten",
    create_client: "Klant aanmaken",
    saved_clients: "Opgeslagen klanten",
    invoices: "Facturen",
    create_invoice: "Factuur aanmaken",
    saved_invoices: "Opgeslagen facturen",
    quotes: "Offertes",
    create_quote: "Offerte aanmaken",
    saved_quotes: "Opgeslagen offertes",
    contracts: "Contracten",
    create_contract: "Contract aanmaken",
    saved_contracts: "Opgeslagen contracten",
    reminders: "Herinneringen",
    create_reminder: "Herinnering aanmaken",
    saved_reminders: "Opgeslagen herinneringen",
    expense_csv: "Onkosten CSV",
    create_expense: "Maak kosten aan",
    saved_expenses: "Opgeslagen kosten",
    analytics: "Analytics",
    my_bookkeeper: "Mijn boekhouder",
    summary: "Overzicht",
    roi_estimator: "ROI-calculator",
    tax_assistant: "Belastingassistent",
    tax_calculator: "Belastingcalculator",
    tax_analytics: "Belastinganalyse",
    tax_guide: "Belastinggids",
    templates: "Sjablonen",
    email_gemeente: "E-mail naar gemeente",
    cv_portfolio: "CV / Portfolio",
    ai_assistant: "AI Assistent (PRO)",
    settings: "Instellingen",
    profile: "Profiel",
    toggle_theme: "Thema wisselen",
    help: "Hulp",
    upgrade_pro: "Upgraden naar PRO",
    contact_support: "Neem contact op met Support",
    logout: "Uitloggen",
    welcome: "Welkom",
    plan_free: "Gratis",
    quick_clients: "Klanten",
    quick_invoice: "Factuur",
    quick_quote: "Offerte",
    quick_contract: "Contract",
    quick_reminder: "Herinnering",
    revenue: "Inkomsten",
    unpaid: "Onbetaald",
    quote_rate: "Winstpercentage offerte",
    reminders_sent: "Verzonden herinneringen",
    expenses: "Uitgaven",
    overdue: "Achterstallig",
    top_client: "Topklant",
    smart_suggestions: "Slimme suggesties",
    suggestion_all_good: "âœ… Alles goed. Ga zo door!",
    suggestion_overdue_invoices: "ðŸ“Œ {count} achterstallige facturen â€” stuur herinneringen.",
    suggestion_no_reminders: "âš ï¸ Achterstallige facturen maar geen herinneringen verzonden.",
    suggestion_low_winrate: "ðŸ“‰ Lage offerte-succesratio â€” optimaliseer je aanbiedingen.",
    suggestion_expenses_over: "ðŸ“Š Uitgaven overschrijden de inkomsten deze maand.",
    recent_activity: "Recente activiteit",
    loading: "Laden...",
    chart_title: "Inkomsten",
    chart_labels: {
      draft: "Concept",
      sent: "Verzonden",
      paid: "Betaald",
      overdue: "Achterstallig"
    },
    activity_types: {
      navigation: "Navigatie",
      invoice: "Factuur",
      event: "Gebeurtenis"
    },
    activity_messages: {
      "created clients": "Klanten aangemaakt",
      "created reminder": "Herinnering aangemaakt",
      "invoice inv-2025-027 updated": "Factuur INV-2025-027 bijgewerkt"
    }
  },

  de: {
    menu: "MenÃ¼",
    back_dashboard: "ZurÃ¼ck zum Dashboard",
    home: "Startseite",
    clients: "Kunden",
    invoices: "Rechnungen",
    quotes: "Angebote",
    contracts: "VertrÃ¤ge",
    reminders: "Erinnerungen",
    expense_csv: "Ausgaben CSV",
    analytics: "Analytik",
    tax_assistant: "Steuerassistent",
    templates: "Vorlagen",
    settings: "Einstellungen",
    help: "Hilfe",
    logout: "Abmelden",
    welcome: "Willkommen",
    revenue: "Einnahmen",
    unpaid: "Unbezahlt",
    overdue: "ÃœberfÃ¤llig",
    expenses: "Ausgaben",
    suggestion_all_good: "âœ… Alles gut. Weiter so!",
    chart_title: "Einnahmen",
    chart_labels: { draft: "Entwurf", sent: "Gesendet", paid: "Bezahlt", overdue: "ÃœberfÃ¤llig" }
  },

  fr: {
    menu: "Menu",
    back_dashboard: "Retour au tableau de bord",
    home: "Accueil",
    clients: "Clients",
    invoices: "Factures",
    quotes: "Devis",
    contracts: "Contrats",
    reminders: "Rappels",
    expense_csv: "DÃ©penses CSV",
    analytics: "Analytique",
    tax_assistant: "Assistant fiscal",
    templates: "ModÃ¨les",
    settings: "ParamÃ¨tres",
    help: "Aide",
    logout: "DÃ©connexion",
    welcome: "Bienvenue",
    revenue: "Revenu",
    unpaid: "ImpayÃ©",
    overdue: "En retard",
    expenses: "DÃ©penses",
    suggestion_all_good: "âœ… Tout va bien. Continuez comme Ã§aÂ !",
    chart_title: "Revenu",
    chart_labels: { draft: "Brouillon", sent: "EnvoyÃ©", paid: "PayÃ©", overdue: "En retard" }
  },

  pl: {
    menu: "Menu",
    back_dashboard: "PowrÃ³t do panelu",
    home: "Strona gÅ‚Ã³wna",
    clients: "Klienci",
    invoices: "Faktury",
    quotes: "Oferty",
    contracts: "Umowy",
    reminders: "Przypomnienia",
    expense_csv: "Wydatki CSV",
    analytics: "Analiza",
    tax_assistant: "Asystent podatkowy",
    templates: "Szablony",
    settings: "Ustawienia",
    help: "Pomoc",
    logout: "Wyloguj",
    welcome: "Witamy",
    revenue: "Przychody",
    unpaid: "NiezapÅ‚acone",
    overdue: "ZalegÅ‚e",
    expenses: "Wydatki",
    suggestion_all_good: "âœ… Wszystko dobrze. Tak trzymaÄ‡!",
    chart_title: "Przychody",
    chart_labels: { draft: "Szkic", sent: "WysÅ‚ane", paid: "OpÅ‚acone", overdue: "ZalegÅ‚e" }
  },

  ru: {
    menu: "ÐœÐµÐ½ÑŽ",
    back_dashboard: "ÐÐ°Ð·Ð°Ð´ Ðº Ð¿Ð°Ð½ÐµÐ»Ð¸",
    home: "Ð“Ð»Ð°Ð²Ð½Ð°Ñ",
    clients: "ÐšÐ»Ð¸ÐµÐ½Ñ‚Ñ‹",
    invoices: "Ð¡Ñ‡ÐµÑ‚Ð°",
    quotes: "ÐŸÑ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ",
    contracts: "ÐšÐ¾Ð½Ñ‚Ñ€Ð°ÐºÑ‚Ñ‹",
    reminders: "ÐÐ°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ñ",
    expense_csv: "Ð Ð°ÑÑ…Ð¾Ð´Ñ‹ CSV",
    analytics: "ÐÐ½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ°",
    tax_assistant: "ÐÐ°Ð»Ð¾Ð³Ð¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ð¼Ð¾Ñ‰Ð½Ð¸Ðº",
    templates: "Ð¨Ð°Ð±Ð»Ð¾Ð½Ñ‹",
    settings: "ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸",
    help: "ÐŸÐ¾Ð¼Ð¾Ñ‰ÑŒ",
    logout: "Ð’Ñ‹Ð¹Ñ‚Ð¸",
    welcome: "Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ",
    revenue: "Ð”Ð¾Ñ…Ð¾Ð´",
    unpaid: "ÐÐµÐ¾Ð¿Ð»Ð°Ñ‡ÐµÐ½Ð¾",
    overdue: "ÐŸÑ€Ð¾ÑÑ€Ð¾Ñ‡ÐµÐ½Ð¾",
    expenses: "Ð Ð°ÑÑ…Ð¾Ð´Ñ‹",
    suggestion_all_good: "âœ… Ð’ÑÑ‘ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾. Ð¢Ð°Ðº Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ!",
    chart_title: "Ð”Ð¾Ñ…Ð¾Ð´",
    chart_labels: { draft: "Ð§ÐµÑ€Ð½Ð¾Ð²Ð¸Ðº", sent: "ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¾", paid: "ÐžÐ¿Ð»Ð°Ñ‡ÐµÐ½Ð¾", overdue: "ÐŸÑ€Ð¾ÑÑ€Ð¾Ñ‡ÐµÐ½Ð¾" }
  },

  es: {
    menu: "MenÃº",
    back_dashboard: "Volver al panel",
    home: "Inicio",
    clients: "Clientes",
    invoices: "Facturas",
    quotes: "Presupuestos",
    contracts: "Contratos",
    reminders: "Recordatorios",
    expense_csv: "Gastos CSV",
    analytics: "AnalÃ­tica",
    tax_assistant: "Asistente Fiscal",
    templates: "Plantillas",
    settings: "ConfiguraciÃ³n",
    help: "Ayuda",
    logout: "Cerrar sesiÃ³n",
    welcome: "Bienvenido",
    revenue: "Ingresos",
    unpaid: "No pagado",
    overdue: "Atrasado",
    expenses: "Gastos",
    suggestion_all_good: "âœ… Todo bien. Â¡Sigue asÃ­!",
    chart_title: "Ingresos",
    chart_labels: { draft: "Borrador", sent: "Enviado", paid: "Pagado", overdue: "Atrasado" }
  }
};

// ðŸ§  Apply Translations
function applyTranslations(lang = "en") {
  const dict = window.translations[lang] || window.translations["en"];
  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.getAttribute("data-i18n");
    if (dict[key]) el.textContent = dict[key];
  });
}

document.addEventListener("DOMContentLoaded", () => {
  const selectedLang = localStorage.getItem("language") || "en";
  applyTranslations(selectedLang);

  const langSelector = document.getElementById("languageSwitcher");
  if (langSelector) {
    langSelector.value = selectedLang;
    langSelector.addEventListener("change", function () {
      localStorage.setItem("language", this.value);
      location.reload();
    });
  }
});
