<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>📄 SmartWerk CV / Portfolio</title>
  <link rel="stylesheet" href="style-cv.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <div class="cv-container">
    <header class="cv-header">
      <img src="avatar-placeholder.jpg" alt="Your Photo" class="cv-photo" />
      <div class="cv-intro">
        <input id="fullName" placeholder="Your Name" />
        <input id="title" placeholder="Professional Title" />
        <input id="email" placeholder="Email" />
        <input id="phone" placeholder="Phone" />
        <input id="linkedin" placeholder="LinkedIn" />
        <input id="website" placeholder="Website" />
      </div>
    </header>

    <section class="cv-summary">
      <h2>🧠 Professional Summary</h2>
      <textarea id="summary" placeholder="Tell us about yourself..."></textarea>
      <p id="summaryPreview">—</p>
    </section>

    <section class="cv-skills">
      <h2>🛠️ Skills</h2>
      <textarea id="skills" placeholder="Your skills... (comma separated)"></textarea>
      <p id="skillsPreview">—</p>
    </section>

    <section class="cv-experience">
      <h2>💼 Work Experience</h2>
      <textarea id="experience" placeholder="Describe your work experience..."></textarea>
      <p id="experiencePreview">—</p>
    </section>

    <section class="cv-education">
      <h2>🎓 Education</h2>
      <textarea id="education" placeholder="Your education..."></textarea>
      <p id="educationPreview">—</p>
    </section>

    <section class="cv-languages">
      <h2>🌍 Languages</h2>
      <textarea id="languages" placeholder="Languages spoken..."></textarea>
      <p id="languagesPreview">—</p>
    </section>

    <section class="cv-actions">
      <button id="smartFill">🤖 AI Fill</button>
      <button id="switchTheme">🎨 Switch Theme</button>
      <button id="exportPDF">📄 Download PDF</button>
    </section>

    <footer class="cv-footer">
      <p>🔗 smartwerk.nl/portfolio/your-name</p>
    </footer>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const fields = [
        "fullName", "title", "summary", "email", "phone", "linkedin",
        "website", "skills", "experience", "education", "languages"
      ];

      fields.forEach((id) => {
        const input = document.getElementById(id);
        const preview = document.getElementById(id + "Preview");
        if (input && preview) {
          input.addEventListener("input", () => {
            preview.textContent = input.value.trim() || "—";
          });
        }
      });

      document.getElementById("smartFill").addEventListener("click", () => {
        const example = {
          fullName: "Igor Sulima",
          title: "Freelance Web Developer",
          summary: "Experienced developer specializing in modern JavaScript, UX/UI, and smart business tools.",
          email: "igor@smartwerk.nl",
          phone: "+31 6 12345678",
          linkedin: "linkedin.com/in/igorsulima",
          website: "www.smartwerk.nl",
          skills: "HTML, CSS, JS, React, Firebase",
          experience: "SmartWerk (2022–Now): Founder & Developer\nFreelance Projects: 2020–2022",
          education: "IT Degree — University of Amsterdam (2018)",
          languages: "Ukrainian, English, Dutch"
        };

        fields.forEach((id) => {
          const input = document.getElementById(id);
          const preview = document.getElementById(id + "Preview");
          if (input && preview && example[id]) {
            input.value = example[id];
            preview.textContent = example[id];
          }
        });
      });

      document.getElementById("switchTheme").addEventListener("click", () => {
        document.body.classList.toggle("dark-theme");
      });

      document.getElementById("exportPDF").addEventListener("click", () => {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();
        let y = 20;

        doc.setFontSize(16);
        doc.text("📄 SmartWerk CV / Portfolio", 20, y);
        y += 10;

        fields.forEach((id) => {
          const input = document.getElementById(id);
          if (input && input.value.trim()) {
            doc.setFont(undefined, "bold");
            doc.text(id.replace(/([A-Z])/g, " $1"), 20, y);
            y += 6;
            doc.setFont(undefined, "normal");
            const lines = doc.splitTextToSize(input.value, 170);
            doc.text(lines, 20, y);
            y += lines.length * 6 + 4;
          }
        });

        doc.save("smartwerk-cv.pdf");
      });
    });
  </script>
</body>
</html>
